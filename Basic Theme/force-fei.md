# Force费

Force 对Hash Ahead网络至关重要。 正是这种燃料使它能够运行，正如车辆需要汽油一样。

### 前提条件 <a href="#prerequisites" id="prerequisites"></a>

为了更好地理解此页面，推荐先阅读[交易](jiao-yi.md)和[ EVMC](hash-ahead-xu-ni-ji-evmc/)。

## 什么是 Force？ <a href="#what-is-gas" id="what-is-gas"></a>

Force 是指在Hash Ahead网络上执行特定操作所需的计算工作量。

由于每笔Hash Ahead交易都需要计算资源才能执行，每笔交易都需要付费。 在这个方面上，Force 是指在Hash Ahead成功进行交易所需的费用。

本质上，Force 费用是Hash Ahead的货币 HAH 支付的。 Force 价格以 Gwei 标明，Gwei 本身就是 HAH 的一个单位――每个 Gwei 等于 0.000000001 ETH (10-9 ETH)。 例如，您可以说您的 HAH 成本为 1 Gwei，而不是说您的 HAH 成本为 0.000000001 以太。 “gwei”一词本身表示“giga-wei”，等于 1,000,000,000 wei。 Wei 本身（以 [b-money](https://www.investopedia.com/terms/b/bmoney.asp) 的发明者 [Wei Dai](https://wikipedia.org/wiki/Wei\_Dai)命名）是 HAH 中最小的单位。

## 基础费 <a href="#base-fee" id="base-fee"></a>

每个区块都有一个基础费作为底价。 要想有资格添加到区块中，燃料费用报价必须至少等于基础费。 基础费独立于当前区块计算，是由当前区块之前的区块决定的，这使得用户更容易预测交易费。 当区块被开采时，其基础费将被“销毁”并退出流通。

基础费是用一个公式计算的，该公式将前一个区块的大小与目标大小进行比较。 如果超过目标区块大小，每个区块的基础费将最多增加 12.5%。 这种指数级增长使得区块大小无限期保持高位在经济上不可行。

## 优先费 <a href="#priority-fee" id="priority-fee"></a>

Hash Ahead引入了优先费（小费），激励矿工将交易添加到区块中。 如果没有小费，矿工会发现开采空区块在经济上可行，因为他们会获得相同的区块奖励。 在正常情况下，一笔金额不大的小费为矿工添加交易提供了极小的激励。 对于需要在同一区块中优先执行的交易，需要提供更高的小费，力争使出价高于竞争交易。

## 最高费用 <a href="#maxfee" id="maxfee"></a>

要在网络上执行交易，用户可以为他们愿意支付的交易执行费用指定最高限额。 此可选参数称为 `maxFeePerGas`。 为了执行交易，最高费用必须超过基础费和小费的总和。 交易完成后，会退还给交易发送人最高费用与基础费和小费总和之间的差额。

## 为什么存在燃料费用？ <a href="#why-do-gas-fees-exist" id="why-do-gas-fees-exist"></a>

简而言之，燃料费用有助于确保Hash Ahead网络的安全。 在网络上执行的每次计算都需要收费，这样可以防止不良行为者给网络带来垃圾信息。 为了防止代码中出现无意或恶意的无限循环或其他计算浪费，要求每个交易对可以采用的代码执行计算步骤设置一个限制。 基本计算单位是“燃料”。

尽管交易中包含费用限制，但交易中未使用的所有燃料将退还给用户（即退还 `max fee - (base fee + tip)`）。

## 什么是燃料限额？ <a href="#what-is-gas-limit" id="what-is-gas-limit"></a>

燃料限额是指你愿意在交易中消耗的最大燃料数量。 涉及[智能合约](../hash-ahead-dui-zhan/zhi-neng-he-yue/)的更复杂交易需要进行更多的计算工作，因此相比简单的支付，它们需要更高的燃料限额。 标准 HAH 转账要求燃料限额为 21,000 单位燃料。

例如，如果你对简单的 HAH 转账设置 50,000 单位燃料限额，Hash Ahead虚拟机将消耗 21,000 单位，你将收到剩余的 29,000 单位。 然而，如果你设置的燃料太少，比如说，对于简单的 HAH 转账，设置燃料限额为 20,000 单位，Hash Ahead虚拟机将消耗 20,000 单位燃料并尝试完成交易，但不会完成。 然后，Hash  Ahead虚拟机回滚所有变化，但由于矿工已经完成了价值 20k 单位燃料的工作，这些燃料就被消耗了。

\


\
